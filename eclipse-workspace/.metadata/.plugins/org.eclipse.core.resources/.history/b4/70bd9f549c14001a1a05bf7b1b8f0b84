import java.io.FileNotFoundException;
import java.io.*;
import java.util.NoSuchElementException;
import java.util.Scanner;
public class Match {

	public static void main(String[] args) throws IOException{
		Student[] students = new Student[100];
		int snum = 0;
		System.out.print("\nEnter the name of file to open: ");
		Scanner kbd = new Scanner(System.in); 
		String filename = kbd.next(); 
		kbd.close();
		Scanner input = new Scanner(new FileReader(filename));
		while(input.hasNextLine()) {
			Scanner line = new Scanner(input.nextLine());
			line.useDelimiter("[\t -]");
			students[snum] = new Student(line.next(), line.next().charAt(0), new Date(line.nextInt(), line.nextInt(), line.nextInt()), new Preference(line.nextInt(), line.nextInt(), line.nextInt(), line.nextInt()));
			snum++;
			line.close();
		
		}
		input.close();
		int currentScore;
		int maxScore = 0;
		int bestMatchStudent = 0;
		for(int i = 0; i < students.length; i++) {
			for(int j = 1; j < students.length; j++) {
				if(students[i].getMatched() == false) {
					currentScore = students[i].compare(students[j]);
					if(currentScore > maxScore) {
						maxScore = currentScore;
						bestMatchStudent = j;
					}
				}
				
			}
			students[i].setMatched();
			students[bestMatchStudent].setMatched();
			System.out.println(students[i].getName() + " matches with " + students[bestMatchStudent].getName() + " with score " + maxScore);
			maxScore = 0;
			bestMatchStudent = 0;
			if (bestMatchStudent == 0) {
				System.out.println(students[i].getName() + " has no matches");
			}
		}
		
		
		
		
	}

}
